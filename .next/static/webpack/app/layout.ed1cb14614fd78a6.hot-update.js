"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/layout",{

/***/ "(app-pages-browser)/./src/components/AuthProvider.tsx":
/*!*****************************************!*\
  !*** ./src/components/AuthProvider.tsx ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.3.1_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.3.1_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/supabaseClient */ \"(app-pages-browser)/./src/lib/supabaseClient.ts\");\n/* harmony import */ var _lib_uploadGoogleAvatar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/uploadGoogleAvatar */ \"(app-pages-browser)/./src/lib/uploadGoogleAvatar.ts\");\n/* __next_internal_client_entry_do_not_use__ AuthProvider,useAuth auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction AuthProvider(param) {\n    let { children } = param;\n    _s();\n    /* -------------------------------------------------------------------- */ /* Local state                                                          */ /* -------------------------------------------------------------------- */ const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    /* -------------------------------------------------------------------- */ /* 1.  Initial session load                                             */ /* -------------------------------------------------------------------- */ (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AuthProvider.useEffect\": ()=>{\n            _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.getUser().then({\n                \"AuthProvider.useEffect\": (param)=>{\n                    let { data: { user } } = param;\n                    setUser(user !== null && user !== void 0 ? user : null);\n                    setLoading(false);\n                }\n            }[\"AuthProvider.useEffect\"]);\n        }\n    }[\"AuthProvider.useEffect\"], []);\n    /* -------------------------------------------------------------------- */ /* 2.  Listen for auth state changes                                    */ /* -------------------------------------------------------------------- */ (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AuthProvider.useEffect\": ()=>{\n            const { data: { subscription } } = _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.onAuthStateChange({\n                \"AuthProvider.useEffect\": async (_event, session)=>{\n                    var _newUser_user_metadata, _newUser_user_metadata1, _newUser_user_metadata2;\n                    var _session_user;\n                    const newUser = (_session_user = session === null || session === void 0 ? void 0 : session.user) !== null && _session_user !== void 0 ? _session_user : null;\n                    setUser(newUser);\n                    /* ––––––––––––––– Google-avatar cache (runs only once) ––––––––––– */ if (newUser && ((_newUser_user_metadata = newUser.user_metadata) === null || _newUser_user_metadata === void 0 ? void 0 : _newUser_user_metadata.provider) === 'google' && ((_newUser_user_metadata1 = newUser.user_metadata) === null || _newUser_user_metadata1 === void 0 ? void 0 : _newUser_user_metadata1.avatar_url) && !((_newUser_user_metadata2 = newUser.user_metadata) === null || _newUser_user_metadata2 === void 0 ? void 0 : _newUser_user_metadata2.cached_avatar)) {\n                        try {\n                            const cached = await (0,_lib_uploadGoogleAvatar__WEBPACK_IMPORTED_MODULE_3__.cacheGoogleAvatar)(newUser.id, newUser.user_metadata.avatar_url);\n                            /* A)  store in auth metadata  */ await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.updateUser({\n                                data: {\n                                    cached_avatar: cached\n                                }\n                            });\n                            /* B)  optional public table   */ await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_2__.supabase.from('users').update({\n                                avatar_url: cached\n                            }).eq('id', newUser.id);\n                            /* C)  reflect immediately in local state so UI updates now     */ setUser({\n                                \"AuthProvider.useEffect\": (prev)=>prev ? {\n                                        ...prev,\n                                        user_metadata: {\n                                            ...prev.user_metadata,\n                                            cached_avatar: cached\n                                        }\n                                    } : prev\n                            }[\"AuthProvider.useEffect\"]);\n                        } catch (err) {\n                            console.error('avatar cache failed', err);\n                        }\n                    }\n                }\n            }[\"AuthProvider.useEffect\"]);\n            return ({\n                \"AuthProvider.useEffect\": ()=>subscription.unsubscribe()\n            })[\"AuthProvider.useEffect\"];\n        }\n    }[\"AuthProvider.useEffect\"], []);\n    /* -------------------------------------------------------------------- */ /* Provider                                                             */ /* -------------------------------------------------------------------- */ return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: {\n            user,\n            loading\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/krxg/Desktop/metrics-hub-supabase/src/components/AuthProvider.tsx\",\n        lineNumber: 82,\n        columnNumber: 5\n    }, this);\n}\n_s(AuthProvider, \"Ui6DLq5vMU2GgsRY6PPBrtV3hI8=\");\n_c = AuthProvider;\n/* Simple hook ---------------------------------------------------------- */ function useAuth() {\n    _s1();\n    const ctx = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (!ctx) throw new Error('useAuth must be used within AuthProvider');\n    return ctx;\n}\n_s1(useAuth, \"/dMy7t63NXD4eYACoT93CePwGrg=\");\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0F1dGhQcm92aWRlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRXVFO0FBQ3ZCO0FBQ2E7QUFPN0QsTUFBTU0sNEJBQWNOLG9EQUFhQSxDQUErQk87QUFFekQsU0FBU0MsYUFBYSxLQUEyQztRQUEzQyxFQUFFQyxRQUFRLEVBQWlDLEdBQTNDOztJQUMzQix3RUFBd0UsR0FDeEUsd0VBQXdFLEdBQ3hFLHdFQUF3RSxHQUN4RSxNQUFNLENBQUNDLE1BQU1DLFFBQVEsR0FBT1IsK0NBQVFBLENBQTJCO0lBQy9ELE1BQU0sQ0FBQ1MsU0FBU0MsV0FBVyxHQUFHViwrQ0FBUUEsQ0FBQztJQUV2Qyx3RUFBd0UsR0FDeEUsd0VBQXdFLEdBQ3hFLHdFQUF3RSxHQUN4RUQsZ0RBQVNBO2tDQUFDO1lBQ1JFLHlEQUFRQSxDQUFDVSxJQUFJLENBQUNDLE9BQU8sR0FBR0MsSUFBSTswQ0FBQzt3QkFBQyxFQUFFQyxNQUFNLEVBQUVQLElBQUksRUFBRSxFQUFFO29CQUM5Q0MsUUFBUUQsaUJBQUFBLGtCQUFBQSxPQUFRO29CQUNoQkcsV0FBVztnQkFDYjs7UUFDRjtpQ0FBRyxFQUFFO0lBRUwsd0VBQXdFLEdBQ3hFLHdFQUF3RSxHQUN4RSx3RUFBd0UsR0FDeEVYLGdEQUFTQTtrQ0FBQztZQUNSLE1BQU0sRUFDSmUsTUFBTSxFQUFFQyxZQUFZLEVBQUUsRUFDdkIsR0FBR2QseURBQVFBLENBQUNVLElBQUksQ0FBQ0ssaUJBQWlCOzBDQUFDLE9BQU9DLFFBQVFDO3dCQU8vQ0Msd0JBQ0FBLHlCQUNDQTt3QkFSYUQ7b0JBQWhCLE1BQU1DLFVBQVVELENBQUFBLGdCQUFBQSxvQkFBQUEsOEJBQUFBLFFBQVNYLElBQUksY0FBYlcsMkJBQUFBLGdCQUFpQjtvQkFDakNWLFFBQVFXO29CQUVSLG9FQUFvRSxHQUNwRSxJQUNFQSxXQUNBQSxFQUFBQSx5QkFBQUEsUUFBUUMsYUFBYSxjQUFyQkQsNkNBQUFBLHVCQUF1QkUsUUFBUSxNQUFLLGNBQ3BDRiwwQkFBQUEsUUFBUUMsYUFBYSxjQUFyQkQsOENBQUFBLHdCQUF1QkcsVUFBVSxLQUNqQyxHQUFDSCwwQkFBQUEsUUFBUUMsYUFBYSxjQUFyQkQsOENBQUFBLHdCQUF1QkksYUFBYSxHQUNyQzt3QkFDQSxJQUFJOzRCQUNGLE1BQU1DLFNBQVMsTUFBTXRCLDBFQUFpQkEsQ0FDcENpQixRQUFRTSxFQUFFLEVBQ1ZOLFFBQVFDLGFBQWEsQ0FBQ0UsVUFBVTs0QkFHbEMsK0JBQStCLEdBQy9CLE1BQU1yQix5REFBUUEsQ0FBQ1UsSUFBSSxDQUFDZSxVQUFVLENBQUM7Z0NBQzdCWixNQUFNO29DQUFFUyxlQUFlQztnQ0FBTzs0QkFDaEM7NEJBRUEsK0JBQStCLEdBQy9CLE1BQU12Qix5REFBUUEsQ0FDWDBCLElBQUksQ0FBQyxTQUNMQyxNQUFNLENBQUM7Z0NBQUVOLFlBQVlFOzRCQUFPLEdBQzVCSyxFQUFFLENBQUMsTUFBTVYsUUFBUU0sRUFBRTs0QkFFdEIsZ0VBQWdFLEdBQ2hFakI7MERBQVEsQ0FBQ3NCLE9BQ1BBLE9BQU87d0NBQUUsR0FBR0EsSUFBSTt3Q0FBRVYsZUFBZTs0Q0FBRSxHQUFHVSxLQUFLVixhQUFhOzRDQUFFRyxlQUFlQzt3Q0FBTztvQ0FBRSxJQUFJTTs7d0JBRTFGLEVBQUUsT0FBT0MsS0FBSzs0QkFDWkMsUUFBUUMsS0FBSyxDQUFDLHVCQUF1QkY7d0JBQ3ZDO29CQUNGO2dCQUNGOztZQUVBOzBDQUFPLElBQU1oQixhQUFhbUIsV0FBVzs7UUFDdkM7aUNBQUcsRUFBRTtJQUVMLHdFQUF3RSxHQUN4RSx3RUFBd0UsR0FDeEUsd0VBQXdFLEdBQ3hFLHFCQUNFLDhEQUFDL0IsWUFBWWdDLFFBQVE7UUFBQ0MsT0FBTztZQUFFN0I7WUFBTUU7UUFBUTtrQkFDMUNIOzs7Ozs7QUFHUDtHQXhFZ0JEO0tBQUFBO0FBMEVoQiwwRUFBMEUsR0FDbkUsU0FBU2dDOztJQUNkLE1BQU1DLE1BQU14QyxpREFBVUEsQ0FBQ0s7SUFDdkIsSUFBSSxDQUFDbUMsS0FBSyxNQUFNLElBQUlDLE1BQU07SUFDMUIsT0FBT0Q7QUFDVDtJQUpnQkQiLCJzb3VyY2VzIjpbIi9ob21lL2tyeGcvRGVza3RvcC9tZXRyaWNzLWh1Yi1zdXBhYmFzZS9zcmMvY29tcG9uZW50cy9BdXRoUHJvdmlkZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnQC9saWIvc3VwYWJhc2VDbGllbnQnO1xuaW1wb3J0IHsgY2FjaGVHb29nbGVBdmF0YXIgfSBmcm9tICdAL2xpYi91cGxvYWRHb29nbGVBdmF0YXInO1xuXG50eXBlIEF1dGhDb250ZXh0VmFsdWUgPSB7XG4gIHVzZXI6IEF3YWl0ZWQ8UmV0dXJuVHlwZTx0eXBlb2Ygc3VwYWJhc2UuYXV0aC5nZXRVc2VyPj5bJ2RhdGEnXVsndXNlciddIHwgbnVsbDtcbiAgbG9hZGluZzogYm9vbGVhbjtcbn07XG5cbmNvbnN0IEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxBdXRoQ29udGV4dFZhbHVlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuXG5leHBvcnQgZnVuY3Rpb24gQXV0aFByb3ZpZGVyKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pIHtcbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiAgLyogTG9jYWwgc3RhdGUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdICAgICA9IHVzZVN0YXRlPEF1dGhDb250ZXh0VmFsdWVbJ3VzZXInXT4obnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gIC8qIDEuICBJbml0aWFsIHNlc3Npb24gbG9hZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCkudGhlbigoeyBkYXRhOiB7IHVzZXIgfSB9KSA9PiB7XG4gICAgICBzZXRVc2VyKHVzZXIgPz8gbnVsbCk7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcbiAgfSwgW10pO1xuXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gIC8qIDIuICBMaXN0ZW4gZm9yIGF1dGggc3RhdGUgY2hhbmdlcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgZGF0YTogeyBzdWJzY3JpcHRpb24gfSxcbiAgICB9ID0gc3VwYWJhc2UuYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZShhc3luYyAoX2V2ZW50LCBzZXNzaW9uKSA9PiB7XG4gICAgICBjb25zdCBuZXdVc2VyID0gc2Vzc2lvbj8udXNlciA/PyBudWxsO1xuICAgICAgc2V0VXNlcihuZXdVc2VyKTtcblxuICAgICAgLyog4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCTIEdvb2dsZS1hdmF0YXIgY2FjaGUgKHJ1bnMgb25seSBvbmNlKSDigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJMgKi9cbiAgICAgIGlmIChcbiAgICAgICAgbmV3VXNlciAmJlxuICAgICAgICBuZXdVc2VyLnVzZXJfbWV0YWRhdGE/LnByb3ZpZGVyID09PSAnZ29vZ2xlJyAmJlxuICAgICAgICBuZXdVc2VyLnVzZXJfbWV0YWRhdGE/LmF2YXRhcl91cmwgJiZcbiAgICAgICAgIW5ld1VzZXIudXNlcl9tZXRhZGF0YT8uY2FjaGVkX2F2YXRhclxuICAgICAgKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgY2FjaGVkID0gYXdhaXQgY2FjaGVHb29nbGVBdmF0YXIoXG4gICAgICAgICAgICBuZXdVc2VyLmlkLFxuICAgICAgICAgICAgbmV3VXNlci51c2VyX21ldGFkYXRhLmF2YXRhcl91cmxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLyogQSkgIHN0b3JlIGluIGF1dGggbWV0YWRhdGEgICovXG4gICAgICAgICAgYXdhaXQgc3VwYWJhc2UuYXV0aC51cGRhdGVVc2VyKHtcbiAgICAgICAgICAgIGRhdGE6IHsgY2FjaGVkX2F2YXRhcjogY2FjaGVkIH0sXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvKiBCKSAgb3B0aW9uYWwgcHVibGljIHRhYmxlICAgKi9cbiAgICAgICAgICBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgICAgICAgIC51cGRhdGUoeyBhdmF0YXJfdXJsOiBjYWNoZWQgfSlcbiAgICAgICAgICAgIC5lcSgnaWQnLCBuZXdVc2VyLmlkKTtcblxuICAgICAgICAgIC8qIEMpICByZWZsZWN0IGltbWVkaWF0ZWx5IGluIGxvY2FsIHN0YXRlIHNvIFVJIHVwZGF0ZXMgbm93ICAgICAqL1xuICAgICAgICAgIHNldFVzZXIoKHByZXYpID0+XG4gICAgICAgICAgICBwcmV2ID8geyAuLi5wcmV2LCB1c2VyX21ldGFkYXRhOiB7IC4uLnByZXYudXNlcl9tZXRhZGF0YSwgY2FjaGVkX2F2YXRhcjogY2FjaGVkIH0gfSA6IHByZXZcbiAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdhdmF0YXIgY2FjaGUgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICB9LCBbXSk7XG5cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiAgLyogUHJvdmlkZXIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiAgcmV0dXJuIChcbiAgICA8QXV0aENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3sgdXNlciwgbG9hZGluZyB9fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0F1dGhDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufVxuXG4vKiBTaW1wbGUgaG9vayAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5leHBvcnQgZnVuY3Rpb24gdXNlQXV0aCgpIHtcbiAgY29uc3QgY3R4ID0gdXNlQ29udGV4dChBdXRoQ29udGV4dCk7XG4gIGlmICghY3R4KSB0aHJvdyBuZXcgRXJyb3IoJ3VzZUF1dGggbXVzdCBiZSB1c2VkIHdpdGhpbiBBdXRoUHJvdmlkZXInKTtcbiAgcmV0dXJuIGN0eDtcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwic3VwYWJhc2UiLCJjYWNoZUdvb2dsZUF2YXRhciIsIkF1dGhDb250ZXh0IiwidW5kZWZpbmVkIiwiQXV0aFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJ1c2VyIiwic2V0VXNlciIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiYXV0aCIsImdldFVzZXIiLCJ0aGVuIiwiZGF0YSIsInN1YnNjcmlwdGlvbiIsIm9uQXV0aFN0YXRlQ2hhbmdlIiwiX2V2ZW50Iiwic2Vzc2lvbiIsIm5ld1VzZXIiLCJ1c2VyX21ldGFkYXRhIiwicHJvdmlkZXIiLCJhdmF0YXJfdXJsIiwiY2FjaGVkX2F2YXRhciIsImNhY2hlZCIsImlkIiwidXBkYXRlVXNlciIsImZyb20iLCJ1cGRhdGUiLCJlcSIsInByZXYiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJ1bnN1YnNjcmliZSIsIlByb3ZpZGVyIiwidmFsdWUiLCJ1c2VBdXRoIiwiY3R4IiwiRXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/AuthProvider.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/global.css":
/*!************************!*\
  !*** ./src/global.css ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"5061a1e245c6\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9nbG9iYWwuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksSUFBVSxJQUFJLGlCQUFpQiIsInNvdXJjZXMiOlsiL2hvbWUva3J4Zy9EZXNrdG9wL21ldHJpY3MtaHViLXN1cGFiYXNlL3NyYy9nbG9iYWwuY3NzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiNTA2MWExZTI0NWM2XCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/global.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/uploadGoogleAvatar.ts":
/*!***************************************!*\
  !*** ./src/lib/uploadGoogleAvatar.ts ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cacheGoogleAvatar: () => (/* binding */ cacheGoogleAvatar)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(app-pages-browser)/./node_modules/.pnpm/@supabase+supabase-js@2.49.8/node_modules/@supabase/supabase-js/dist/module/index.js\");\n\n/**\n * Downloads a remote Google avatar once and re-uploads it to\n * your public `avatars` bucket. Returns the public URL.\n *\n * Will overwrite the file if it already exists (upsert = true).\n */ async function cacheGoogleAvatar(userId, googleUrl) {\n    // local Supabase client – *browser* keys are enough here\n    const supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(\"https://bdvrvltbahgsalmzvvjh.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJkdnJ2bHRiYWhnc2FsbXp2dmpoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg0NTYzMzUsImV4cCI6MjA2NDAzMjMzNX0.0EmLYY8qD6BknYNHbO6hv0MYagRq1hb_Tbge-fBHr4Y\");\n    /* 1) download the original image ------------------------------------- */ const res = await fetch(googleUrl, {\n        cache: 'no-store'\n    });\n    if (!res.ok) throw new Error('Cannot fetch Google avatar');\n    var _res_headers_get;\n    const contentType = (_res_headers_get = res.headers.get('content-type')) !== null && _res_headers_get !== void 0 ? _res_headers_get : 'image/jpeg';\n    const blob = await res.blob(); // works in Node 18+\n    var _contentType_split_;\n    const ext = (_contentType_split_ = contentType.split('/')[1]) !== null && _contentType_split_ !== void 0 ? _contentType_split_ : 'jpg';\n    /* 2) upload to Storage ------------------------------------------------ */ const path = \"\".concat(userId, \".\").concat(ext);\n    const { error: uploadError } = await supabase.storage.from('avatars').upload(path, blob, {\n        contentType,\n        upsert: true\n    });\n    if (uploadError) throw uploadError;\n    /* 3) return its public URL ------------------------------------------- */ const { data } = supabase.storage.from('avatars').getPublicUrl(path);\n    return data.publicUrl;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvdXBsb2FkR29vZ2xlQXZhdGFyLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXFEO0FBRXJEOzs7OztDQUtDLEdBQ00sZUFBZUMsa0JBQ3BCQyxNQUFjLEVBQ2RDLFNBQWlCO0lBRWpCLHlEQUF5RDtJQUN6RCxNQUFNQyxXQUFXSixtRUFBWUEsQ0FDM0JLLDBDQUFvQyxFQUNwQ0Esa05BQXlDO0lBRzNDLHdFQUF3RSxHQUN4RSxNQUFNSSxNQUFNLE1BQU1DLE1BQU1QLFdBQVc7UUFBRVEsT0FBTztJQUFXO0lBQ3ZELElBQUksQ0FBQ0YsSUFBSUcsRUFBRSxFQUFFLE1BQU0sSUFBSUMsTUFBTTtRQUVUSjtJQUFwQixNQUFNSyxjQUFjTCxDQUFBQSxtQkFBQUEsSUFBSU0sT0FBTyxDQUFDQyxHQUFHLENBQUMsNkJBQWhCUCw4QkFBQUEsbUJBQW1DO0lBQ3ZELE1BQU1RLE9BQWMsTUFBTVIsSUFBSVEsSUFBSSxJQUFzQixvQkFBb0I7UUFDeERIO0lBQXBCLE1BQU1JLE1BQWNKLENBQUFBLHNCQUFBQSxZQUFZSyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsY0FBekJMLGlDQUFBQSxzQkFBNkI7SUFFakQseUVBQXlFLEdBQ3pFLE1BQU1NLE9BQU8sR0FBYUYsT0FBVmhCLFFBQU8sS0FBTyxPQUFKZ0I7SUFFMUIsTUFBTSxFQUFFRyxPQUFPQyxXQUFXLEVBQUUsR0FBRyxNQUFNbEIsU0FBU21CLE9BQU8sQ0FDbERDLElBQUksQ0FBQyxXQUNMQyxNQUFNLENBQUNMLE1BQU1ILE1BQU07UUFBRUg7UUFBYVksUUFBUTtJQUFLO0lBRWxELElBQUlKLGFBQWEsTUFBTUE7SUFFdkIsd0VBQXdFLEdBQ3hFLE1BQU0sRUFBRUssSUFBSSxFQUFFLEdBQUd2QixTQUFTbUIsT0FBTyxDQUFDQyxJQUFJLENBQUMsV0FBV0ksWUFBWSxDQUFDUjtJQUMvRCxPQUFPTyxLQUFLRSxTQUFTO0FBQ3ZCIiwic291cmNlcyI6WyIvaG9tZS9rcnhnL0Rlc2t0b3AvbWV0cmljcy1odWItc3VwYWJhc2Uvc3JjL2xpYi91cGxvYWRHb29nbGVBdmF0YXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuLyoqXG4gKiBEb3dubG9hZHMgYSByZW1vdGUgR29vZ2xlIGF2YXRhciBvbmNlIGFuZCByZS11cGxvYWRzIGl0IHRvXG4gKiB5b3VyIHB1YmxpYyBgYXZhdGFyc2AgYnVja2V0LiBSZXR1cm5zIHRoZSBwdWJsaWMgVVJMLlxuICpcbiAqIFdpbGwgb3ZlcndyaXRlIHRoZSBmaWxlIGlmIGl0IGFscmVhZHkgZXhpc3RzICh1cHNlcnQgPSB0cnVlKS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhY2hlR29vZ2xlQXZhdGFyKFxuICB1c2VySWQ6IHN0cmluZyxcbiAgZ29vZ2xlVXJsOiBzdHJpbmdcbik6IFByb21pc2U8c3RyaW5nPiB7XG4gIC8vIGxvY2FsIFN1cGFiYXNlIGNsaWVudCDigJMgKmJyb3dzZXIqIGtleXMgYXJlIGVub3VnaCBoZXJlXG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KFxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhXG4gICk7XG5cbiAgLyogMSkgZG93bmxvYWQgdGhlIG9yaWdpbmFsIGltYWdlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goZ29vZ2xlVXJsLCB7IGNhY2hlOiAnbm8tc3RvcmUnIH0pO1xuICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZmV0Y2ggR29vZ2xlIGF2YXRhcicpO1xuXG4gIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSA/PyAnaW1hZ2UvanBlZyc7XG4gIGNvbnN0IGJsb2IgICAgICAgID0gYXdhaXQgcmVzLmJsb2IoKTsgICAgICAgICAgICAgICAgICAgLy8gd29ya3MgaW4gTm9kZSAxOCtcbiAgY29uc3QgZXh0ICAgICAgICAgPSBjb250ZW50VHlwZS5zcGxpdCgnLycpWzFdID8/ICdqcGcnO1xuXG4gIC8qIDIpIHVwbG9hZCB0byBTdG9yYWdlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuICBjb25zdCBwYXRoID0gYCR7dXNlcklkfS4ke2V4dH1gO1xuXG4gIGNvbnN0IHsgZXJyb3I6IHVwbG9hZEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5zdG9yYWdlXG4gICAgLmZyb20oJ2F2YXRhcnMnKVxuICAgIC51cGxvYWQocGF0aCwgYmxvYiwgeyBjb250ZW50VHlwZSwgdXBzZXJ0OiB0cnVlIH0pO1xuXG4gIGlmICh1cGxvYWRFcnJvcikgdGhyb3cgdXBsb2FkRXJyb3I7XG5cbiAgLyogMykgcmV0dXJuIGl0cyBwdWJsaWMgVVJMIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiAgY29uc3QgeyBkYXRhIH0gPSBzdXBhYmFzZS5zdG9yYWdlLmZyb20oJ2F2YXRhcnMnKS5nZXRQdWJsaWNVcmwocGF0aCk7XG4gIHJldHVybiBkYXRhLnB1YmxpY1VybDtcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJjYWNoZUdvb2dsZUF2YXRhciIsInVzZXJJZCIsImdvb2dsZVVybCIsInN1cGFiYXNlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwicmVzIiwiZmV0Y2giLCJjYWNoZSIsIm9rIiwiRXJyb3IiLCJjb250ZW50VHlwZSIsImhlYWRlcnMiLCJnZXQiLCJibG9iIiwiZXh0Iiwic3BsaXQiLCJwYXRoIiwiZXJyb3IiLCJ1cGxvYWRFcnJvciIsInN0b3JhZ2UiLCJmcm9tIiwidXBsb2FkIiwidXBzZXJ0IiwiZGF0YSIsImdldFB1YmxpY1VybCIsInB1YmxpY1VybCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/uploadGoogleAvatar.ts\n"));

/***/ })

});